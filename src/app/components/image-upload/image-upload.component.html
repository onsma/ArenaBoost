<div class="card border-0 shadow-sm mb-4">
  <div class="card-body p-4">
    <h5 class="card-title mb-3">Upload Project Image</h5>

    <form [formGroup]="uploadForm">
      <!-- File Input -->
      <div class="mb-3">
        <label for="imageFile" class="form-label">Select Image <span class="text-danger">*</span></label>
        <input type="file" class="form-control" id="imageFile" accept="image/*" (change)="onFileSelected($event)"
          [disabled]="loading">
        <small class="form-text text-muted">
          Select an image file (JPG, PNG, GIF) to upload
        </small>
      </div>

      <!-- Image Name -->
      <div class="mb-3">
        <label for="imageName" class="form-label">Image Name <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="imageName" formControlName="name" [disabled]="loading">
        <small class="form-text text-muted" *ngIf="uploadForm.get('name')?.invalid && uploadForm.get('name')?.touched">
          Name must be at least 3 characters
        </small>
      </div>

      <!-- Image Category -->
      <div class="mb-3">
        <label for="imageCategory" class="form-label">Category <span class="text-danger">*</span></label>
        <select class="form-select" id="imageCategory" formControlName="category" [disabled]="loading">
          <option value="">-- Select a category --</option>
          <option *ngFor="let category of categories" [value]="category">{{ category }}</option>
        </select>
      </div>

      <!-- Image Preview -->
      <div *ngIf="previewUrl" class="mb-3">
        <label class="form-label">Preview:</label>
        <div class="border p-2 rounded">
          <img [src]="previewUrl" alt="Image preview" class="img-fluid" style="max-height: 200px;">
        </div>
      </div>

      <!-- Status Messages -->
      <div *ngIf="error" class="alert alert-danger">
        <i class="bi bi-exclamation-triangle-fill me-2"></i>{{ message }}
      </div>

      <div *ngIf="success" class="alert alert-success">
        <i class="bi bi-check-circle-fill me-2"></i>{{ message }}
      </div>

      <!-- Action Buttons -->
      <div class="d-flex gap-2">
        <button type="button" class="btn btn-primary" (click)="uploadImage()"
          [disabled]="!selectedFile || uploadForm.invalid || loading">
          <span *ngIf="loading" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
          Upload Image
        </button>
        <button type="button" class="btn btn-outline-secondary" (click)="reset()" [disabled]="loading">
          Reset
        </button>
      </div>
    </form>

    <!-- Note -->
    <div class="mt-3">
      <small class="text-muted">
        <i class="bi bi-info-circle me-1"></i>
        Note: This is a simulated upload. In a real application, the image would be uploaded to the server.
      </small>
    </div>
  </div>
</div>